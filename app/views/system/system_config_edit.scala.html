@(r: play.mvc.Http.Request, u: utils.Utils, page_settings: utils.app.page.PageSettings, form_result: utils.app.page.FormSubmissionResult)

@import utils.app.config.AppConfig
@import utils.other.OtherUtils.REGEX_URL
@import models.db.app.config.ApplicationConfiguration.MAX_SIZE_APPLICATION_NAME
@import models.db.app.config.ApplicationConfiguration.MAX_SIZE_APPLICATION_DESCRIPTION
@import models.db.app.config.ApplicationConfiguration.MAX_SIZE_BASE_DOMAIN
@import models.db.app.config.ApplicationConfiguration.MAX_SIZE_BASE_URL
@import models.db.app.config.ApplicationConfiguration.ENV_DEVELOPMENT
@import models.db.app.config.ApplicationConfiguration.ENV_TESTS
@import models.db.app.config.ApplicationConfiguration.ENV_QUALITY
@import models.db.app.config.ApplicationConfiguration.ENV_PRODUCTION
@import models.helpers.app.config.ApplicationConfigurationHelper.APPLICATION_NAME_PT
@import models.helpers.app.config.ApplicationConfigurationHelper.APPLICATION_NAME_EN
@import models.helpers.app.config.ApplicationConfigurationHelper.APPLICATION_DESCRIPTION_PT
@import models.helpers.app.config.ApplicationConfigurationHelper.APPLICATION_DESCRIPTION_EN
@import models.helpers.app.config.ApplicationConfigurationHelper.ENVIRONMENT
@import models.helpers.app.config.ApplicationConfigurationHelper.BASE_DOMAIN
@import models.helpers.app.config.ApplicationConfigurationHelper.BASE_URL
@import models.helpers.app.config.ApplicationConfigurationHelper.FILES_PATH

@base.bo_body(r, u, u.l.l(r, "system.title.config_edit"), page_settings) { } {

	<div class="container-fluid">
		@defining(AppConfig.getInstance()){ app_config =>
			@if(app_config != null){

			  	<h1>@u.l.l(r, "system.title.config_edit")</h1>

			  	@base.form_result(r, u.l, form_result)

			  	<form class="validate-form" action="@controllers.bo.routes.BackofficeSystemController.submitSystemConfigEdit()" method="post">
			  		@helper.CSRF.formField(r.asScala)

					<div class="row">
					  	<div class="col">
					  		<div class="form-group">
					  			<label for="@(APPLICATION_NAME_PT)">@u.l.l(r, "system.label.application_name_pt")</label>
					  			<input type="text" class="form-control validate-not-empty validate-blur validate-no-valid-feedback" name="@(APPLICATION_NAME_PT)" id="@(APPLICATION_NAME_PT)" maxlength="@(MAX_SIZE_APPLICATION_NAME)" value="@app_config.getApplicationNamePT()" />
					  		</div>
					  	</div>

					  	<div class="col">
					  		<div class="form-group">
					  			<label for="@(APPLICATION_NAME_EN)">@u.l.l(r, "system.label.application_name_en")</label>
					  			<input type="text" class="form-control validate-not-empty validate-blur validate-no-valid-feedback" name="@(APPLICATION_NAME_EN)" id="@(APPLICATION_NAME_EN)" maxlength="@(MAX_SIZE_APPLICATION_NAME)" value="@app_config.getApplicationNameEN()" />
					  		</div>
					  	</div>

					  	<div class="col">
					  		<div class="form-group">
					  			@defining(app_config.getEnvironment()){ env =>
						  			<label for="@(ENVIRONMENT)">@u.l.l(r, "system.label.environment")</label>
						  			<select class="form-control validate-not-empty validate-blur validate-no-valid-feedback" name="@(ENVIRONMENT)" id="@(ENVIRONMENT)">
										<option value="@(ENV_DEVELOPMENT)" @if(env.equalsIgnoreCase(ENV_DEVELOPMENT)){ selected }>@u.l.l(r, "system.label.env_" + ENV_DEVELOPMENT)</option>
										<option value="@(ENV_TESTS)" @if(env.equalsIgnoreCase(ENV_TESTS)){ selected }>@u.l.l(r, "system.label.env_" + ENV_TESTS)</option>
										<option value="@(ENV_QUALITY)" @if(env.equalsIgnoreCase(ENV_QUALITY)){ selected }>@u.l.l(r, "system.label.env_" + ENV_QUALITY)</option>
										<option value="@(ENV_PRODUCTION)" @if(env.equalsIgnoreCase(ENV_PRODUCTION)){ selected }>@u.l.l(r, "system.label.env_" + ENV_PRODUCTION)</option>
						  			</select>
					  			}
					  		</div>
					  	</div>
					</div>

					<div class="row">
					  	<div class="col">
					  		<div class="form-group">
					  			<label for="@(APPLICATION_DESCRIPTION_PT)">@u.l.l(r, "system.label.application_description_pt")</label>
					  			<input type="text" class="form-control" name="@(APPLICATION_DESCRIPTION_PT)" id="@(APPLICATION_DESCRIPTION_PT)" maxlength="@(MAX_SIZE_APPLICATION_DESCRIPTION)" value="@app_config.getApplicationDescriptionPT()" />
					  		</div>
					  	</div>
					</div>

					<div class="row">
					  	<div class="col">
					  		<div class="form-group">
					  			<label for="@(APPLICATION_DESCRIPTION_EN)">@u.l.l(r, "system.label.application_description_en")</label>
					  			<input type="text" class="form-control" name="@(APPLICATION_DESCRIPTION_EN)" id="@(APPLICATION_DESCRIPTION_EN)" maxlength="@(MAX_SIZE_APPLICATION_DESCRIPTION)" value="@app_config.getApplicationDescriptionEN()" />
					  		</div>
					  	</div>
					</div>

					<div class="row">
					  	<div class="col">
					  		<div class="form-group">
					  			<label for="@(BASE_DOMAIN)">@u.l.l(r, "system.label.base_domain")</label>
					  			<input type="text" class="form-control validate-not-empty validate-blur validate-no-valid-feedback" name="@(BASE_DOMAIN)" id="@(BASE_DOMAIN)" maxlength="@(MAX_SIZE_BASE_DOMAIN)" value="@app_config.getBaseDomain()" />
					  		</div>
					  	</div>

					  	<div class="col">
					  		<div class="form-group">
					  			<label for="@(BASE_URL)">@u.l.l(r, "system.label.base_url")</label>
					  			<input type="text" class="form-control validate-not-empty validate-blur validate-no-valid-feedback validate-regex" name="@(BASE_URL)" id="@(BASE_URL)" maxlength="@(MAX_SIZE_BASE_URL)" pattern="@(REGEX_URL)" value="@app_config.getBaseURL()" />
					  		</div>
					  	</div>

					  	<div class="col">
					  		<div class="form-group">
					  			<label for="@(FILES_PATH)">@u.l.l(r, "system.label.files_path")</label>
								<input type="text" class="form-control validate-not-empty validate-blur validate-no-valid-feedback" name="@(FILES_PATH)" id="@(FILES_PATH)" value="@app_config.getFilesPath()" />
					  		</div>
					  	</div>
					</div>

					<div class="mt-3">
			  			<button class="btn btn-success" type="submit"><i class="fa fa-check-circle"></i> @u.l.l(r, "general.label.save")</button>
			  			<a class="btn btn-outline-danger" href="@controllers.bo.routes.BackofficeSystemController.renderSystemConfig()"><i class="fa fa-times-circle"></i> @u.l.l(r, "general.label.cancel")</a>
			  		</div>

				</form>
			}
		}
	</div>
} { }
