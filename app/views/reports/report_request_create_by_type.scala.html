@(r: play.mvc.Http.Request, u: utils.Utils, page_settings: utils.app.page.PageSettings, report_type: models.db.app.report.ReportType)

@import models.db.app.report.ReportRequest

@default_form(description: String)(content: Html) = {

	<p class="mt-3 mb-3">@description</p>

	<form action="@controllers.bo.routes.BackofficeReportsController.submitAddReportRequestByTypeForm(report_type.getID())" method="post" class="validate-form">
		@helper.CSRF.formField(r.asScala)

		@content

		<div class="form-row align-items-center mt-3 mb-3">
			<div class="col-auto">
				<div class="form-check mb-2">
					<input class="form-check-input" type="checkbox" name="@(ReportRequest.IS_RECURRENT_PROPERTY)" id="@(ReportRequest.IS_RECURRENT_PROPERTY)">
					<label class="form-check-label" for="@(ReportRequest.IS_RECURRENT_PROPERTY)">
						@u.l.l(r, "reports.label.is_recurrent")
					</label>
				</div>
			</div>

			<div class="col-auto">
				<label class="sr-only" for="@(ReportRequest.PERIODICITY_PROPERTY)">@u.l.l(r, "reports.label.periodicity") (min.)</label>
				<div class="input-group mb-2">
					<div class="input-group-prepend">
						<div class="input-group-text" for="@(ReportRequest.PERIODICITY_PROPERTY)">@u.l.l(r, "reports.label.periodicity")</div>
					</div>
					<select class="custom-select" name="@(ReportRequest.PERIODICITY_PROPERTY)" id="@(ReportRequest.PERIODICITY_PROPERTY)">
						<option value="0"> -- </option>
						<option value="60">1 @u.l.l(r, "general.label.hour")</option>
						<option value="@(6 * 60)">6 @u.l.l(r, "general.label.hours")</option>
						<option value="@(12 * 60)">12 @u.l.l(r, "general.label.hours")</option>
						<option value="@(24 * 60)">24 @u.l.l(r, "general.label.hours")</option>
					</select>
				</div>
			</div>
		</div>

		<div class="mt-3 mb-3">
			<button class="btn btn-success"><i class="fa fa-plus-square"></i> @u.l.l(r, "reports.label.request_report")</button>
			<a href="@controllers.bo.routes.BackofficeReportsController.renderReportRequests()" class="btn btn-outline-danger"><i class="fa fa-times-circle"></i> @u.l.l(r, "general.label.cancel")</a>
		</div>

	</form>
}

@base.bo_body(r, u, u.l.l(r, "reports.title.report_request_create"), page_settings) { } {

	<div class="container-fluid">

	  	<h1>@u.l.l(r, "reports.title.report_request_create")</h1>

	  	<p class="large mt-3 mb-3"><b>@u.l.l(r, "reports.label.report_type")</b>: @u.l.lto(r, report_type, "getLabel")</p>

	  	@if(report_type == null){
	  		<p class="alert alert-warning mt-3 mb-3">@u.l.l(r, "reports.text.report_type_not_accessible")</p>
	  	}else{
	  		@defining(report_type.getConfigurationHelperClassInstance()){ config_helper_instance =>
	  			@if(config_helper_instance == null){
	  				@default_form(u.l.lto(r, report_type, "getDescription")){ }
	  			}else{
	  				@defining(config_helper_instance.renderConfigurationForm(r, u)){ config_form =>
	  					@if(config_form == null){
	  						@default_form(u.l.lto(r, report_type, "getDescription")){ }
	  					}else{
	  						@default_form(u.l.lto(r, report_type, "getDescription")){
	  							@config_helper_instance.renderConfigurationForm(r, u)
	  						}
	  					}
	  				}
	  			}
	  		}
	  	}
	</div>
} { }
